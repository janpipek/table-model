<html>
<head>
	<script type="text/javascript" src="jquery-1.8.3.js"></script>
	<script type="text/javascript" src="table-model.js"></script>
</head>
<body>
	<h3>Sum &amp; Product</h3>
	<table border="1" id="my-table">
		<tr>
			<th></th>
			<th></th>
			<th></th>
			<th>Sum or product</th>
		</tr>

		<tr>
			<td>1</td>
			<td>2</td>
			<td>3</td>
			<td></td>
		</tr>

		<tr>
			<td>4</td>
			<td>5</td>
			<td>6</td>
			<td></td>
		</tr>
	</table>

	<script>
		$(function() {
			var $table = $("#my-table");

			var sumIndices = [];
			var productIndices = [];

			for (var i = 0; i < 3; i++) {
				sumIndices.push([1, i]);
				productIndices.push([2, i]);
			}

			var tableModel = new TableModel($table);

			tableModel.bind(sumIndices, [1, 3], TableModel.functions.sum, true);	
			tableModel.bind(productIndices, [2, 3], TableModel.functions.product, true);
		})
	</script>

	<h3>countif</h3>
	<table border="1" id="countif-table">
		<tbody>
			<tr>
				<th>Count of pears</th>
				<td>pear</td>
				<td>apple</td>
				<td>pear</td>
				<td></td>
			</tr>
		</tbody>
	</table>

	<script>
		$(function() {
			var $table = $("table#countif-table");
			var tableModel = new TableModel($table);

			var pearRange = TableModel.range(0, 1, 1, 4);
			var isPearFunction = TableModel.functions.countIf("pear");

			tableModel.bind(pearRange, [0, 4], isPearFunction, true);
		})
	</script>
</body>